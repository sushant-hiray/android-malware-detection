#!/bin/bash

DEXPATH="/home/sushant/Downloads/dex2jar-0.0.9.15"   
JDGUI="/home/sushant/Downloads/jd-gui/jd-gui"

while getopts ":d:" opt; do
  case $opt in
    d)
      mkdir -p $OPTARG"_FILES"
      cp $OPTARG $OPTARG"_FILES"
      cd $OPTARG"_FILES" ; mv $OPTARG $OPTARG".zip" ; jar xvf $OPTARG".zip" ; cd ../ 
      $DEXPATH/d2j-dex2jar.sh -f $OPTARG"_FILES"/classes.dex ;
      echo "Done decompressing!"
      echo "you can view the classes-dex2jar.jar file using jdgui viewer"
      ;;
    \?)
      echo "Invalid option: -$OPTARG" >&2
      exit 1
      ;;
    :)
      echo "Option -$OPTARG requires an argument." >&2
      exit 1
      ;;
  esac
done